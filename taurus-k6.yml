execution:
- executor: k6
  concurrency: 10  # Número de workers VU de k6
  hold-for: 1m     # Duración de ejecución (1 minuto)
  ramp-up: 30s     # Tiempo para alcanzar el concurrency completo
  iterations: 100  # Número total de iteraciones
  scenario:
    script: k6-test.js  # Script de k6

modules:
  k6:
    cmdline: --out json=test-results.json --summary-export=summary.json

reporting:
- module: passfail
  criteria:
  - avg-rt>200ms for 10s, stop as failed
  - p(95)>500ms for 30s, stop as failed
  - failures>10% for 10s, stop as failed

- module: console
- module: final-stats
  summary: true
  percentiles: true
  failed-label: false
  test-duration: true

- module: junit-xml
  filename: report.xml
  data-source: sample
